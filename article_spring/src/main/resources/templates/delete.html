<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <title>게시글 - 삭제</title>
  <script th:if="${isFail != null}">
    let isFail = [[${isFail}]];
    console.log(isFail);
    if (!isFail) {
      alert("비밀번호가 틀렸습니다.");
    } else {
      alert("정상적으로 삭제되었습니다.");
      location.href = '/boards/free/list';
    }
  </script>
  <script>
    function passwordCheck(){
      let passwordInput = document.querySelector('input[name="password"]');
      let passwordValue = passwordInput.value;
      if(passwordValue.length < 4 || passwordValue.length >= 16){
        alert("비밀번호는 4글자 이상 16글자 미만으로 적어주세요");
        return false;
      }
    }
  </script>
</head>
<body>
  <form action="/boards/free/delete" method="post" onsubmit="return passwordCheck()">
    <table>
      <tr>
        <td>비밀번호*</td>
        <td><input type="password" name="password" required></td>
        <input type="hidden" name="delete" th:value="${articleId}">
      </tr>
    </table>
    <a href='/boards/free/list'>취소</a>
    <input type="submit" value="삭제">
  </form>
</body>
</html>